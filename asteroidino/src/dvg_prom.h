/* dvg_prom.h
 * DVG State Machine PROM 034602-01.c8
 * 256 bytes x 4 bits
 * 
 * This PROM controls the entire DVG state machine.
 * Address = state_latch[7:4] + opcode[3:0] + halt_flag
 * Output = next_state[3:0]
 * 
 * REAL DATA from MAME ROM dump:
 * CRC32: 97953db8
 * SHA1: 8cbded64d1dd35b18c4d5cece00f77e7b2cab2ad
 */

#ifndef DVG_PROM_H
#define DVG_PROM_H

#include <Arduino.h>

// DVG State Machine PROM (034602-01.c8)
// 256 x 4 bits (stored as bytes, only low 4 bits used)
// REAL DATA - verified against MAME ROM dump
const uint8_t dvg_prom_034602[256] PROGMEM = {
    0x00, 0x01, 0x0D, 0x0D, 0x05, 0x06, 0x07, 0x0D,  // 0x00-0x07
    0x09, 0x0D, 0x01, 0x00, 0x0F, 0x0C, 0x0A, 0x0E,  // 0x08-0x0F
    0x00, 0x01, 0x0D, 0x0D, 0x05, 0x06, 0x07, 0x0D,  // 0x10-0x17
    0x09, 0x0D, 0x01, 0x00, 0x0F, 0x0C, 0x0A, 0x0E,  // 0x18-0x1F
    0x00, 0x01, 0x0D, 0x0D, 0x05, 0x06, 0x07, 0x0D,  // 0x20-0x27
    0x09, 0x0D, 0x01, 0x0D, 0x0F, 0x0C, 0x0B, 0x0E,  // 0x28-0x2F
    0x00, 0x01, 0x0D, 0x0D, 0x05, 0x06, 0x07, 0x0D,  // 0x30-0x37
    0x0B, 0x0D, 0x01, 0x00, 0x08, 0x0C, 0x0A, 0x0E,  // 0x38-0x3F
    0x00, 0x01, 0x0D, 0x0D, 0x05, 0x06, 0x07, 0x0D,  // 0x40-0x47
    0x09, 0x0D, 0x01, 0x00, 0x08, 0x0C, 0x0A, 0x0E,  // 0x48-0x4F
    0x00, 0x01, 0x0D, 0x0D, 0x05, 0x06, 0x07, 0x0D,  // 0x50-0x57
    0x09, 0x0D, 0x01, 0x00, 0x09, 0x0C, 0x0A, 0x0E,  // 0x58-0x5F
    0x00, 0x01, 0x0D, 0x0D, 0x05, 0x06, 0x07, 0x0D,  // 0x60-0x67
    0x09, 0x0D, 0x01, 0x00, 0x09, 0x0C, 0x0A, 0x0E,  // 0x68-0x6F
    0x00, 0x01, 0x0D, 0x0D, 0x05, 0x06, 0x07, 0x0D,  // 0x70-0x77
    0x09, 0x0D, 0x01, 0x00, 0x0A, 0x0C, 0x0A, 0x0E,  // 0x78-0x7F
    0x09, 0x02, 0x0D, 0x0D, 0x05, 0x06, 0x07, 0x0D,  // 0x80-0x87
    0x09, 0x0D, 0x01, 0x00, 0x0F, 0x0C, 0x0A, 0x0E,  // 0x88-0x8F
    0x09, 0x02, 0x0D, 0x0D, 0x05, 0x06, 0x07, 0x0D,  // 0x90-0x97
    0x09, 0x0D, 0x01, 0x00, 0x0F, 0x0C, 0x0A, 0x0E,  // 0x98-0x9F
    0x09, 0x02, 0x0D, 0x0D, 0x05, 0x06, 0x07, 0x0D,  // 0xA0-0xA7
    0x09, 0x0D, 0x01, 0x0D, 0x0F, 0x0C, 0x0B, 0x0E,  // 0xA8-0xAF
    0x09, 0x02, 0x0D, 0x0D, 0x05, 0x06, 0x07, 0x0D,  // 0xB0-0xB7
    0x0B, 0x0D, 0x01, 0x00, 0x08, 0x0C, 0x0A, 0x0E,  // 0xB8-0xBF
    0x09, 0x02, 0x0D, 0x0D, 0x05, 0x06, 0x07, 0x0D,  // 0xC0-0xC7
    0x09, 0x0D, 0x01, 0x00, 0x08, 0x0C, 0x0A, 0x0E,  // 0xC8-0xCF
    0x09, 0x02, 0x0D, 0x0D, 0x05, 0x06, 0x07, 0x0D,  // 0xD0-0xD7
    0x09, 0x0D, 0x01, 0x00, 0x09, 0x0C, 0x0A, 0x0E,  // 0xD8-0xDF
    0x09, 0x02, 0x0D, 0x0D, 0x05, 0x06, 0x07, 0x0D,  // 0xE0-0xE7
    0x09, 0x0D, 0x01, 0x00, 0x09, 0x0C, 0x0A, 0x0E,  // 0xE8-0xEF
    0x09, 0x02, 0x0D, 0x0D, 0x05, 0x06, 0x07, 0x0D,  // 0xF0-0xF7
    0x09, 0x0D, 0x01, 0x00, 0x0A, 0x0C, 0x0A, 0x0E   // 0xF8-0xFF
};

// Helper function to read PROM data
inline uint8_t dvg_prom_read(uint8_t addr) {
    return pgm_read_byte(&dvg_prom_034602[addr]) & 0x0F;
}

#endif // DVG_PROM_H
